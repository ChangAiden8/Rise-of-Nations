######################################
#####Decolonization Diplo Events#######
######################################
add_namespace = DNC_Diplomacy
add_namespace = DNC_DiplomacyNews

# PROPOSES A ROYAL WEDDING
country_event = {
	id = DNC_Diplomacy.1
	title = DNC_Diplomacy.1.t
	desc = DNC_Diplomacy.1.d
	picture = GFX_report_event_DNC_Wedding_country2
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				tag = GER
			}
			modifier = {
				factor = 2
				tag = SPR
			}
			modifier = {
				factor = 2
				tag = POR
			}
		}
		#Accept and Get Annexed
		name = DNC_Diplomacy.1.a
		FROM = {
			country_event = {
				id = DNC_Diplomacy.2
				hours = 1
			}
		}
	}
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 4
				tag = GER
			}
			modifier = {
				factor = 4
				tag = SPR
			}
			modifier = {
				factor = 4
				tag = POR
			}
			modifier = {
				factor = 2
				is_in_faction_with = FROM
			}
		}
		#Accept and Get Puppeted
		name = DNC_Diplomacy.1.b
		FROM = {
			country_event = {
				id = DNC_Diplomacy.3
				hours = 1
			}
		}
	}
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 8
				tag = GER
			}
			modifier = {
				factor = 8
				tag = POR
			}
		}
		#Accept An Alliance Only
		name = DNC_Diplomacy.1.c
		FROM = {
			country_event = {
				id = DNC_Diplomacy.4
				hours = 1
			}
		}
	}
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				has_government = communism
			}
			modifier = {
				factor = 2
				has_government = fascism
			}
			modifier = {
				factor = 16
				is_in_faction = yes
				NOT = { is_in_faction_with = FROM }
			}
			modifier = {
				factor = 16
				has_war_with = FROM
			}
			modifier = {
				factor = 2
				is_guaranteed_by = ENG
			}
			modifier = {
				factor = 2
				is_guaranteed_by = FRA
			}
		}
		#Decline Offer
		name = DNC_Diplomacy.1.e
		FROM = {
			country_event = {
				id = DNC_Diplomacy.5
				hours = 1
			}
		}
	}
}

#Accept and Get Annexed
country_event = {
	id = DNC_Diplomacy.2
	title = DNC_Diplomacy.2.t
	desc = DNC_Diplomacy.2.d
	picture = GFX_report_event_DNC_Wedding_country2
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.2.a
		
		ROOT = {
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
		}
		
		news_event = {
			id = DNC_DiplomacyNews.1
			hours = 6
		}
		
	}
}

#Accept and Get Puppeted
country_event = {
	id = DNC_Diplomacy.3
	title = DNC_Diplomacy.3.t
	desc = DNC_Diplomacy.3.d
	picture = GFX_report_event_DNC_Wedding_country2
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.3.a
		
		ROOT = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = FROM
					autonomous_state = autonomy_dominion
					freedom_level = 0.1
				}
			}
			else = {
				puppet = FROM
			}
		}
		
		news_event = {
			id = DNC_DiplomacyNews.1
			hours = 6
		}
		
	}
}

#Accept An Alliance Only
country_event = {
	id = DNC_Diplomacy.4
	title = DNC_Diplomacy.4.t
	desc = DNC_Diplomacy.4.d
	picture = GFX_report_event_DNC_Wedding_country2
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.4.a
		
		ROOT = {
			if = {
				limit = {
					is_in_faction = yes
					is_faction_leader = yes
				}
				add_to_faction = FROM
			}
			else = {
				give_guarantee = FROM
				FROM = { give_guarantee = ROOT }
			}
		}
		
		news_event = {
			id = DNC_DiplomacyNews.1
			hours = 6
		}
		
	}
}

#Decline Offer
country_event = {
	id = DNC_Diplomacy.5
	title = DNC_Diplomacy.5.t
	desc = DNC_Diplomacy.5.d
	picture = GFX_report_event_DNC_Conference_country1
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.5.a
		
		ROOT = {
			create_wargoal = {
				type = annex_everything
				target = FROM
			}
		}
		
		news_event = {
			id = DNC_DiplomacyNews.2
			hours = 6
		}
		
	}
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.5.b
		
		FROM = {
		add_opinion_modifier = {
			modifier = RI_hostile_foreign_policy
			target = ROOT
		}
		}
		
		add_opinion_modifier = {
			modifier = RI_hostile_foreign_policy
			target = FROM
		}
		
		news_event = {
			id = DNC_DiplomacyNews.2
			hours = 6
		}
		
	}
}

# INVITATION TO JOIN CONFEDERATION
country_event = {
	id = DNC_Diplomacy.6
	title = DNC_Diplomacy.6.t
	desc = DNC_Diplomacy.6.d
	picture = GFX_report_event_DNC_Conference_country1
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 4
				tag = LUX
			}
			modifier = {
				factor = 2
				tag = BEL
			}
			modifier = {
				factor = 2
				tag = HOL
			}
			modifier = {
				factor = 2
				is_in_faction_with = FROM
			}
			modifier = {
				factor = 2
				has_army_size = { size < 20 }
			}
		}
		#Accept and Get Annexed
		name = DNC_Diplomacy.6.a
		FROM = {
			country_event = {
				id = DNC_Diplomacy.7
				hours = 1
			}
		}
		news_event = {
			id = DNC_DiplomacyNews.3
			hours = 1
		}
	}
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 2
				tag = LUX
			}
			modifier = {
				factor = 4
				tag = BEL
			}
			modifier = {
				factor = 4
				tag = HOL
			}
			modifier = {
				factor = 2
				tag = SWI
			}
			modifier = {
				factor = 2
				has_army_size = { size > 19 }
				has_army_size = { size < 40 }
			}
		}
		#Accept and Get Puppeted
		name = DNC_Diplomacy.6.b
		FROM = {
			country_event = {
				id = DNC_Diplomacy.8
				hours = 1
			}
		}
		news_event = {
			id = DNC_DiplomacyNews.3
			hours = 1
		}
	}
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 4
				tag = SWI
			}
			modifier = {
				factor = 2
				has_government = communism
			}
			modifier = {
				factor = 2
				has_government = fascism
			}
			modifier = {
				factor = 8
				is_in_faction = yes
				NOT = { is_in_faction_with = FROM }
			}
			modifier = {
				factor = 2
				has_army_size = { size > 39 }
			}
			modifier = {
				factor = 16
				has_war_with = FROM
			}
			modifier = {
				factor = 2
				is_guaranteed_by = ENG
			}
			modifier = {
				factor = 2
				is_guaranteed_by = FRA
			}
		}
		#Decline Offer
		name = DNC_Diplomacy.6.c
		FROM = {
			country_event = {
				id = DNC_Diplomacy.9
				hours = 1
			}
		}
	}
}

#Accept and Get Annexed
country_event = {
	id = DNC_Diplomacy.7
	title = DNC_Diplomacy.7.t
	desc = DNC_Diplomacy.7.d
	picture = GFX_report_event_DNC_Conference_country1
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.7.a
		
		ROOT = {
			annex_country = {
				target = FROM
				transfer_troops = yes
			}
		}
		
	}
}

#Accept and Get Puppeted
country_event = {
	id = DNC_Diplomacy.8
	title = DNC_Diplomacy.8.t
	desc = DNC_Diplomacy.8.d
	picture = GFX_report_event_DNC_Conference_country1
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.8.a
		
		ROOT = {
			if = {
				limit = {
					OR = {
						has_dlc = "Together for Victory"
						has_dlc = "Man the Guns"
					}
				}
				set_autonomy = {
					target = FROM
					autonomous_state = autonomy_dominion
					freedom_level = 0.1
				}
			}
			else = {
				puppet = FROM
			}
		}
		
	}
}

#Decline Offer
country_event = {
	id = DNC_Diplomacy.9
	title = DNC_Diplomacy.9.t
	desc = DNC_Diplomacy.9.d
	picture = GFX_report_event_DNC_Conference_country1
	is_triggered_only = yes
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.9.a
		
		ROOT = {
			create_wargoal = {
				type = annex_everything
				target = FROM
			}
		}
		
		news_event = {
			id = DNC_DiplomacyNews.2
			hours = 6
		}
		
	}
	
	option = {
		ai_chance = {
			factor = 10
		}
		name = DNC_Diplomacy.9.b
		
		FROM = {
		add_opinion_modifier = {
			modifier = RI_hostile_foreign_policy
			target = ROOT
		}
		}
		
		add_opinion_modifier = {
			modifier = RI_hostile_foreign_policy
			target = FROM
		}
		
		news_event = {
			id = DNC_DiplomacyNews.2
			hours = 6
		}
		
	}
}


# Royal Wedding
news_event = {
	id = DNC_DiplomacyNews.1
	title = DNC_DiplomacyNews.1.t
	desc = DNC_DiplomacyNews.1.d
	picture = GFX_news_event_DNC_Wedding_news2
	major = yes
	is_triggered_only = yes
	option = {
		name = DNC_DiplomacyNews.1.a
	}
}

# Negotiations Break Down
news_event = {
	id = DNC_DiplomacyNews.2
	title = DNC_DiplomacyNews.2.t
	desc = DNC_DiplomacyNews.2.d
	picture = GFX_news_event_DNC_Conference_news1
	major = yes
	is_triggered_only = yes
	option = {
		name = DNC_DiplomacyNews.2.a
	}
}


# Conference Success
news_event = {
	id = DNC_DiplomacyNews.3
	title = DNC_DiplomacyNews.3.t
	desc = DNC_DiplomacyNews.3.d
	picture = GFX_news_event_DNC_Conference_news1
	major = yes
	is_triggered_only = yes
	option = {
		name = DNC_DiplomacyNews.3.a
	}
}