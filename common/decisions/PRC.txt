### #  # ### ### #  ### ###   ##  ### ###  ##  #  #
 #  ## # #    #  #   #  #  # #  #  #   #  #  # ## #
 #  # ## ##   #  #   #  ###  ####  #   #  #  # # ##
 #  #  # #    #  #   #  #  # #  #  #   #  #  # #  #
### #  # #   ### ### #  #  # #  #  #  ###  ##  #  #

#Category only allowed for is_potentially_communist_china
#Category visible when PRC_infiltration focus is completed

#INFILTRATE_STATE_AI_WILL_DO <ID>
#INFILTRATE_JAP_STATE_AI_WILL_DO <ID>


@INFILTRATION_INF_EQ_COST = -500
@DAYS_REMOVE_INFILTRATE_STATE = 60

PRC_infiltrate_nationalist_areas = { 

# 283
# 597
# 598
# 607
# 608
# 614
# 615
# 621
# 744
# 746

	PRC_uprising = {
		icon = generic_ignite_civil_war
	
		visible = {
			has_government = communism
		}
		
		available = {
			PRC_uprising_is_available = yes
		}

		fire_only_once = yes

		days_remove = 60

		war_with_on_remove = CHI

		cost = 25

		ai_will_do = {
			base = 0

			modifier = {
				#Block if still trying to kill JAP
				factor = 0
				AND = {
					has_war_with = JAP
					#Allow JAP, faction member or puppet to control 5 states at most before triggering civil war
					count_triggers = {
						amount = 5
						1023 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						1024 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						1025 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						1026 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						612 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						621 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						615 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						609 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						611 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						610 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						715 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						328 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						527 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						525 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						717 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						714 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						595 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						596 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						597 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						1027 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						598 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						600 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						601 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						602 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						603 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						605 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						606 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						607 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						608 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						613 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						614 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						620 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						744 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						746 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						903 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						904 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						905 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						906 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						907 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						908 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						909 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						910 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						911 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
						902 = { CONTROLLER = { is_JAP_or_ally_of_JAP = yes } }
					}
				}
			}

			#Block if we get fewer than 3 troops
			modifier = {
				factor = 0
				NOT = {
					count_triggers = {
						amount = 3
						283 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						597 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						1027 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						598 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						607 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						608 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						614 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						615 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						621 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						746 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						744 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					}
				}
			}

			#The more troops, the bigger chance
			modifier = {
				add = 10
				283 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				597 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				1023 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				598 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				607 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				608 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				614 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				615 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				621 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				744 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}
			modifier = {
				add = 10
				746 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
			}

			#Sabotage is also nice
			modifier = {
				add = 3
				283 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				597 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				1027 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				598 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				607 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				608 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				614 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				615 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				621 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				744 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				746 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
		}

		complete_effect = {
			hidden_effect = {
				event_target:WTT_current_china_leader = { country_event = wtt_infiltration.10 }
			}
		}
	
		remove_effect = {
			if = {
				limit = {
					is_in_faction_with = event_target:WTT_current_china_leader
				}
				event_target:WTT_current_china_leader = { remove_from_faction = ROOT }
			}
			declare_war_on = { target = event_target:WTT_current_china_leader type = annex_everything }
			283 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			597 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			1027 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			598 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			607 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			608 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			614 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			615 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			621 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			744 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			746 = {
				if = {
					limit = {
						CONTROLLER = { tag = event_target:WTT_current_china_leader }
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
		}
	}
}



 ##  #  # ### ###   ####  ##  ##   ##  #  #
#  # ## #  #   #       # #  # # # #  # ## #
#### # ##  #   #    #  # #### ##  #### # ##
#  # #  #  #   #    #  # #  # #   #  # #  #
#  # #  #  #  ###    ##  #  # #   #  # #  #

#Category only allowed for is_potentially_communist_china
#Category visible when PRC_infiltration focus is completed
PRC_anti_japanese_expedition = {
	#609 #"east_hebei"
	#610 #"jehol"
	#611 #"south_chahar"
	#612 #"chahar"
	#714 #"heilungkiang"
	#715 #"liaoning"

	PRC_anti_japanese_uprising = {
		icon = revolt
		visible = {
			has_government = communism
		}
		
		available = {
			custom_trigger_tooltip = {
				tooltip = PRC_uprising_is_available
				any_state = {
					CONTROLLER = {
						OR = {
							original_tag = MAN
							original_tag = MEN
							original_tag = JAP
						}
					}
					PRC_is_infiltrated_by_PREV = yes
				}
			}
		}

		fire_only_once = yes

		days_remove = 30

		modifier = {
			political_power_gain = -0.5
		}

		cost = 10
		
		ai_will_do = {
			base = 0

			modifier = {
				add = 100
				PRC_ROOT_war_with_controller_of_anti_japan_infiltrated_state = yes				
			}

			#Block if not at least 2 troops and states are instant flipped
			modifier = {
				factor = 0
				NOT = { has_war_with = JAP }
				NOT = { has_war_with = MEN }
				NOT = { has_war_with = MAN }
				NOT = {
					count_triggers = {
						amount = 2
						609 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						610 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						611 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						612 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						714 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
						715 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					}
				}
			}

			#The more troops, the more attractive the option to trigger
			modifier = {
				factor = 25
				count_triggers = {
					amount = 2
					609 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					610 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					611 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					612 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					714 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					715 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
				}
			}
			modifier = {
				factor = 25
				count_triggers = {
					amount = 3
					609 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					610 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					611 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					612 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					714 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					715 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
				}
			}
			modifier = {
				factor = 50
				count_triggers = {
					amount = 4
					609 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					610 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					611 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					612 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					714 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
					715 = { PRC_infiltration_uprising_PREV_will_spawn_troops_in_state = yes }
				}
			}

			#Sabotage is also nice
			modifier = {
				add = 3
				609 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				610 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				611 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				612 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				714 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
			modifier = {
				add = 3
				715 = { PRC_infiltration_uprising_PREV_will_sabotage_state = yes }
			}
		}


		complete_effect = {
			hidden_effect = {
				MAN = { country_event = wtt_infiltration.10 }
				MEN = { country_event = wtt_infiltration.10 }
				JAP = { country_event = wtt_infiltration.10 }
			}
		}

		war_with_on_remove = JAP
		war_with_on_remove = MEN
		war_with_on_remove = MAN
	
		remove_effect = {
			declare_war_on = { target = JAP type = annex_everything }
			if = {
				limit = {
					MAN = { 
						exists = yes
					}
				}
				declare_war_on = { target = MAN type = annex_everything }
			}
			if = {
				limit = {
					MEN = { 
						exists = yes
					}
				}
				declare_war_on = { target = MEN type = annex_everything }
			}

			609 = { #east_hebei
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								original_tag = MAN
								original_tag = MEN
								original_tag = JAP
							}
						}
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}

			 
			610 = { #jehol
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								original_tag = MAN
								original_tag = MEN
								original_tag = JAP
							}
						}
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			 
			611 = { #south_chahar
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								original_tag = MAN
								original_tag = MEN
								original_tag = JAP
							}
						}
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			 
			612 = { #chahar
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								original_tag = MAN
								original_tag = MEN
								original_tag = JAP
							}
						}
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			 
			714 = { #heilungkiang
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								original_tag = MAN
								original_tag = MEN
								original_tag = JAP
							}
						}
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
			 
			715 = { #liaoning
				if = {
					limit = {
						CONTROLLER = {
							OR = {
								original_tag = MAN
								original_tag = MEN
								original_tag = JAP
							}
						}
						PRC_is_infiltrated_by_PREV = yes
					}
					PRC_execute_infiltration_effects_for_PREV = yes
				}
			}
		}
	}
}


operations = {
	PRC_launch_100_regiments_campaign = {
		icon = generic_prepare_civil_war
		visible = {
			has_completed_focus = PRC_100_regiments_campaign
		}
		cost = 0
		fire_only_once = yes
		ai_will_do = {
			factor = 1
		}
		days_remove = 180

		modifier = {
			army_core_attack_factor = 0.25
		}
	}	
}

PRC_provoke_japan = {

	PRC_provoke_japan = {

		icon = generic_ignite_civil_war
		available = {
			not = {
				has_war_with = JAP
			}
			OR = {
				is_subject = no
				is_subject_of = event_target:WTT_current_china_leader
			}
			OR = {
				MAN = { 
					OR = {
						is_subject_of = JAP
						has_cosmetic_tag = MAN_kwantung_army 
					}
				}
				JAP = {
					owns_state = 525
					owns_state = 527
					owns_state = 903
					owns_state = 904
					owns_state = 905
					owns_state = 906
					owns_state = 907
					owns_state = 908
					owns_state = 909
					owns_state = 910
					owns_state = 911
				}
			}
		}
		visible = {
			not = {
				has_war_with = JAP
			}
			OR = {
				MAN = { 
					OR = {
						is_subject_of = JAP 
						has_cosmetic_tag = MAN_kwantung_army 
					}
				}
				JAP = {
					owns_state = 525
					owns_state = 527
					owns_state = 903
					owns_state = 904
					owns_state = 905
					owns_state = 906
					owns_state = 907
					owns_state = 908
					owns_state = 909
					owns_state = 910
					owns_state = 911
				}
			}
		}
		cost = 10
		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = event_target:WTT_current_china_leader
				factor = 0 # let's just not make things worse for ourselves
			}
			modifier = {
				JAP = {
					has_war_with = event_target:WTT_current_china_leader
				}
				factor = 0 # mission accomplished
			}
		}
		fixed_random_seed = no
		days_re_enable = 90
		complete_effect = {
			IF = {
				limit = {
					OR = {
						MAN = {
							is_subject_of = JAP
						}
						JAP = {
							owns_state = 525
							owns_state = 527
							owns_state = 903
					        owns_state = 904
					        owns_state = 905
					        owns_state = 906
					        owns_state = 907
					        owns_state = 908
					        owns_state = 909
					        owns_state = 910
					        owns_state = 911
						}
					}
				}
				JAP = {
					random_list = {
						25 = { country_event = wtt_prc.21 }# sabotage - military
						25 = { country_event = wtt_prc.22 }# sabotage - civilian
						25 = { country_event = wtt_prc.23 }# sabotage - infrastructure
						25 = { country_event = wtt_prc.24 }# patrol ambushed
					}
				}
			}
			else_if = {
				limit = {
					MAN = {
						has_cosmetic_tag = MAN_kwantung_army 
					}
				}
				MAN = {
					random_list = {
						25 = { country_event = wtt_prc.21 }# sabotage - military
						25 = { country_event = wtt_prc.22 }# sabotage - civilian
						25 = { country_event = wtt_prc.23 }# sabotage - infrastructure
						25 = { country_event = wtt_prc.24 }# patrol ambushed
					}
				}
			}
		}
	}
}

political_actions = {
	PRC_return_manchuria_communist = {

		available = {
			event_target:WTT_communist_china = {
				tag = ROOT
			}
			JAP = {
				has_government = communism
				not = {
					has_war_with = ROOT
				}
				is_in_faction_with = ROOT
				OR = {
					controls_state = 610
					controls_state = 716
					controls_state = 745
					controls_state = 328
					controls_state = 717
					controls_state = 714
					controls_state = 715
					controls_state = 761
					controls_state = 611
					controls_state = 612
					controls_state = 609
					controls_state = 1023
					controls_state = 1024
					controls_state = 1025
					controls_state = 1026
				}
			}
			MAN = {
				OR = {
					exists = no
					has_capitulated = yes
				}
			}
		}

		visible = {
			event_target:WTT_communist_china = {
				tag = ROOT
			}
			JAP = {
				has_government = communism
				not = {
					has_war_with = ROOT
				}
				is_in_faction_with = ROOT
				OR = {
					controls_state = 610
					controls_state = 716
					controls_state = 745
					controls_state = 328
					controls_state = 717
					controls_state = 714
					controls_state = 715
					controls_state = 761
					controls_state = 611
					controls_state = 612
					controls_state = 609
					controls_state = 1023
					controls_state = 1024
					controls_state = 1025
					controls_state = 1026
				}
			}
		}

		cost = 25

		ai_will_do = {
			factor = 1
		}

		complete_effect = {
			JAP = {
				country_event = wtt_japan.40
			}
		}

		remove_effect = {

		}
	}
	refuse_the_tribute = {

		icon = generic_political_actions

		allowed = {
			is_potentially_communist_china = yes
		}

		available = {
			
		}

		ai_will_do = {
			base = 0
			modifier = {
				add = -50
						
				#Has somewhat won against CHI and JAP
				NOT = {
					count_triggers = {
						amount = 7
						595 = { is_controlled_by = ROOT }
						596 = { is_controlled_by = ROOT }
						597 = { is_controlled_by = ROOT }
						1027 = { is_controlled_by = ROOT }
						598 = { is_controlled_by = ROOT }
						600 = { is_controlled_by = ROOT }
						601 = { is_controlled_by = ROOT }
						602 = { is_controlled_by = ROOT }
						603 = { is_controlled_by = ROOT }
						605 = { is_controlled_by = ROOT }
						606 = { is_controlled_by = ROOT }
						607 = { is_controlled_by = ROOT }
						608 = { is_controlled_by = ROOT }
						613 = { is_controlled_by = ROOT }
						614 = { is_controlled_by = ROOT }
						620 = { is_controlled_by = ROOT }				
					}
				}
			}
			modifier = {
				add = 25
				has_idea = PRC_soviet_tribute_1
			}
			modifier = {
				add = 50
				has_idea = PRC_soviet_tribute_2
			}
			modifier = {
				add = 75
				has_idea = PRC_soviet_tribute_3
			}
			modifier = {
				add = 100
				has_idea = PRC_soviet_tribute_4
			}
			modifier = {
				add = 125
				has_idea = PRC_soviet_tribute_5
			}
			modifier = {
				add = 150
				has_idea = PRC_soviet_tribute_6
			}
		}

		visible = {
			has_country_flag = WTT_support_from_soviet
			has_soviet_tribute = yes
		}

		target_root_trigger = {
			has_country_flag = WTT_support_from_soviet
		}

		targets = { SOV }

		target_trigger = {
			FROM = { tag = SOV }
		}

		fire_only_once = yes

		complete_effect = {
			PRC_soviet_tribute_clear_all = yes
			clr_country_flag = WTT_support_from_soviet
			FROM = {
				country_event = { id = wtt_warlord_vs_prc.34 }
				effect_tooltip = {
					create_wargoal = {
						type = puppet_wargoal_focus
						target = ROOT
					}
				}
			}
		}
	}
}